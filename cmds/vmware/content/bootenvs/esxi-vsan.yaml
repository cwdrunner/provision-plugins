---
Name: esxi-vsan-install
Description: Install BootEnv for VSAN on top of ESXi 6.7.0update1
Documentation: |
  Install vSphere VSAN on top of VMware BootEnv for ESXi 6.7.0update1.
  For more details, and Download ISO see:

    - https://my.vmware.com/web/vmware/details?productId=742&downloadGroup=ESXI67U1

Meta:
  color: blue
  icon: zip
  title: RackN Content
OS:
  Name: esxi-vsan
  Family: "vmware"
  Codename: "esxi"
  Version: "6.7.0u1"
  IsoFile: VMware-VMvisor-Installer-6.7.0.update01-10302608.x86_64.iso
  IsoSha256: 3b5f2914ce16210f9bd79ac499237f0506a28ceeecdbd9ba96942c667ad058df
OptionalParams:
  - provisioner-default-password-hash
BootParams: -c {{.ProvisionerURL}}/{{.Machine.Path}}/boot.cfg
Kernel: ../../chain.c32
Templates:
  - ID: esxi-chain-pxelinux.tmpl
    Name: pxelinux
    Path: pxelinux.cfg/{{.Machine.HexAddress}}
  - ID: esxi-chain-pxelinux.tmpl
    Name: pxelinux-mac
    Path: pxelinux.cfg/{{.Machine.MacAddr "pxelinux"}}
  - ID: esxi-ipxe.cfg.tmpl
    Name: ipxe
    Path: '{{.Machine.Address}}.ipxe'
  - ID: esxi-ipxe.cfg.tmpl
    Name: ipxe-mac
    Path: '{{.Machine.MacAddr "ipxe"}}.ipxe'
  - ID: esxi-pxelinux.tmpl
    Name: pxelinux-chain-mac
    Path: '{{.Env.PathFor "tftp" ""}}/pxelinux.cfg/{{.Machine.MacAddr "pxelinux"}}'
  - ID: esxi-pxelinux.tmpl
    Name: pxelinux-chain
    Path: '{{.Env.PathFor "tftp" ""}}/pxelinux.cfg/{{.Machine.HexAddress}}'
  - ID: esxi-vsan-py3.ks.tmpl
    Name: compute.ks
    Path: '{{.Machine.Path}}/compute.ks'
  - ID: esxi_670u2-13006603_vmware.boot.cfg.tmpl
    Name: boot.cfg
    Path: '{{.Env.PathFor "tftp" ""}}/{{.Machine.Path}}/boot.cfg'
  - ID: esxi_670u2-13006603_vmware.boot.cfg.tmpl
    Name: boot-uefi.cfg
    Path: '{{.Machine.Path}}/boot.cfg'
